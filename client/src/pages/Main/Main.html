<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Funcionales</title>

    <script src="https://unpkg.com/react@17/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@17/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>

</head>

<body>

    <div id="root"></div>
    <script type="text/babel">
        const { useState, useEffect } = React;

        function Main() {
            const [videos, setVideos] = useState([]);
            const [page, setPage] = useState(1);
            const [searchTerm, setSearchTerm] = useState('');
        
            useEffect(() => {
                const pageSize = 10;
                axios.get(`http://localhost:5050/videos?page=${page}&pageSize=${pageSize}`)
                    .then(response => {
                        const fetchedVideos = response.data;
                        const videosWithCreators = fetchedVideos.map(video => {
                            video.duration = Math.round(video.duration / 60);
                            return video;
                        });
                        setVideos(videosWithCreators);
                    })
                    .catch(error => {
                        console.error('Error fetching videos', error);
                    });
            }, [page]);
        
            const filteredVideos = videos.filter(video =>
                video.name.toLowerCase().includes(searchTerm.toLowerCase())
            );
        
            return (
                <div className="main-container">
                    <div className="blog-section">
                        <h2>Blog de Videos de Programación</h2>
                        <div className="blog-content">
                            <div className="blog-item">
                                <h3>Introducción a la Programación</h3>
                                <p>Descubre los conceptos básicos de la programación y cómo comenzar tu viaje en el mundo del desarrollo de software.</p>
                                <a href="#">Leer más</a>
                            </div>
                            <div className="blog-item">
                                <h3>Aprende JavaScript desde Cero</h3>
                                <p>Domina uno de los lenguajes de programación más populares y poderosos para crear aplicaciones web interactivas.</p>
                                <a href="#">Leer más</a>
                            </div>
                            <div className="blog-item">
                                <h3>Introducción a React</h3>
                                <p>Descubre el framework de JavaScript más popular para construir interfaces de usuario modernas y eficientes.</p>
                                <a href="#">Leer más</a>
                            </div>
                            <div className="blog-item">
                                <h3>Construyendo una API con Node.js</h3>
                                <p>Aprende a crear una API RESTful utilizando Node.js y Express para construir aplicaciones web escalables y robustas.</p>
                                <a href="#">Leer más</a>
                            </div>
                        </div>
                    </div>
                </div>
            );
        }
        const root = ReactDOM.createRoot(document.getElementById('root'))
        root.render(<Main />)
    </script>
</body>

</html>